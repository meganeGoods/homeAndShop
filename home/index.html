<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="./home.css">
    <link rel="stylesheet" href="./catalog/goodsBoard.css">
    <title>MGCS—ホーム</title>
</head>
<div id="./catalog"
<body>
    <header class="toHome">
        <a href="./index.html">
            <img id="MGCS_logo" src="MGCS_logo.svg" height="40px" />
        </a>
        <h1>MGCS公式ショップ</h1>
    </header>
    <div class="spacerM"></div>
    <div id="wrapper">
        <div id="slideArea">
        </div>
        <div id="goodsCatalog">
            <h2>ピックアップ</h2>
            <div id="goodsGallery"></div>
            <a href="./catalog/">全ての商品を見る</a>
        </div>
        <h1>お知らせ</h1>
        <div id="newsArea">
        </div>
    </div>
    <footer>
        <div>
            <h1>SHOP GUIDE</h1>
            <a><h2>ご利用ガイド</h2></a>
            <h2>お支払い方法</h2>
            <p>カード決済|銀行振込|後払い決済|代金引換|AmazonPay|PayPay</p>
            <h2>配送方法</h2>
                <h3>お届け</h3>
                <p>通常ご注文確定または入金確定後、4営業日以内の発送</p>
                <h3>配送方法</h3>
                <p>クロネコヤマトネコポス便<br>
                1,980円以上のお買い上げで<strong>送料無料！</strong></p>
            <a><h2>カタログ購入</h2></a>
        </div>
        <div>
            <h1>INFORMATION</h1>
            <a><h2>品質について</h2></a>
            <a><h2>会社概要</h2></a>
        </div>
    </footer>

<script src="./newsComponent/news.js"></script>
<script>
function goodsComponent(goodsData){
    const string = `
    <div class="goods_board">
        <div class="goods_figure">
            <img src=${goodsData.imgPath} alt="${goodsData.name}" />
        </div>
        <div class="goods_description">
            <p class="goodsName">${goodsData.name}</p>
        </div>
    </div>
    `
    const element = new DOMParser().parseFromString(string, "text/html").body.firstElementChild
    return element
}
async function addGoodsBoard(){
    const goodsData = await fetch("./catalog/goodsData.json").then(response => {
      if (!response.ok) {
        throw new Error(`Failed to fetch ${jsonFile}. HTTP Status: ${response.status}`);
      }
      return response.json();
    })

    const wrapper = document.getElementById("goodsGallery")
    for(let i = 0;i < 3;i++){
        wrapper.appendChild(goodsComponent(goodsData[i]))
    }
}
addGoodsBoard()


addNews()
console.log(sessionStorage.getItem('secretData'))
</script>

</body>
</html>