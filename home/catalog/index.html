<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./catalog.css">
    <link rel="stylesheet" href="../../global.css">
    <title>商品一覧</title>
</head>
<body>
    <header class="toHome">
        <a href="../index.html">
            <img id="MGCS_logo" src="../MGCS_logo.svg" height="40px" />
        </a>
        <h1>MGCS公式ショップ</h1>
    </header>
    <div class="spacerM"></div>
    <h1>商品一覧</h1>
    <div id="wrapper">
    </div>
<script>
function goodsComponent(goodsData){
    const string = `
    <div class="goods_board">
        <div class="goods_figure">
            <img src=${goodsData.imgPath} alt="${goodsData.name}" />
        </div>
        <div class="goods_description">
            <p class="goodsName">${goodsData.name}</p>
            <p class="goodsPrice">${goodsData.price}円</p>
        </div>
    </div>
    `
    const element = new DOMParser().parseFromString(string, "text/html").body.firstElementChild
    return element
}
async function addGoodsBoard(){
    const goodsData = await fetch("./goodsData.json").then(response => {
      if (!response.ok) {
        throw new Error(`Failed to fetch ${jsonFile}. HTTP Status: ${response.status}`);
      }
      return response.json();
    })

    const wrapper = document.getElementById("wrapper")
    for(let goodsDatum of goodsData){
        wrapper.appendChild(goodsComponent(goodsDatum))
    }
}
addGoodsBoard()
</script>
</body>
</html>